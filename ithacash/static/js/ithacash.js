/*! Ithacash.js 2016-03-18 */
$(function(){$("#nav-menu a").click(function(a){return section=$(this).attr("href"),section.match("#")?(sectionOffset=$(section.replace("/","")).offset().top,scrollTo=sectionOffset-parseInt($("header").css("height")),$("html, body").animate({scrollTop:scrollTo+"px"}),!1):!0}),$("#accounts > ul > li").hover(function(){$("#accounts li").each(function(){$(this).removeClass("selected")}),$(this).addClass("selected"),selection=$(this).attr("id"),$("#"+selection+"-info").toggle(),$("#accounts > div > div").each(function(){$(this).attr("id")!=selection+"-info"?$(this).css("display","none"):$(this).css("display","table-cell")})}),$("form.standard-form").submit(function(a){a.preventDefault(),a.stopImmediatePropagation(),form=$(this),data=form.serialize(),action_url=$(this).attr("action"),$.ajax({url:action_url,method:"POST",data:data}).always(function(a){console.log(a)}).fail(function(a){return 400==a.status?(errors=$.parseJSON(a.responseText),error_indices=[],$.each(errors,function(a){error_indices.push(a)}),inputs=$(":input",form),$.each(inputs,function(){input_name=$(this).attr("name"),-1!=$.inArray(input_name,error_indices)?(error_message=errors[input_name][0],$(this).next(".error-message").length>0?$(this).next(".error-message").text(error_message):$(this).addClass("error").after('<br><span class="error-message">'+error_message+"</span>")):($(this).removeClass("error"),$(this).next(".error-message").remove())}),$("html, body").animate({scrollTop:$(".error-message").first().offset().top-170}),!1):void(500==a.status&&$("form.standard-form").replaceWith("<p>An error occured. Please refresh the page and try again.</p>"))}).success(function(){$("form.standard-form").html("<p>Thanks!</p>")})})});